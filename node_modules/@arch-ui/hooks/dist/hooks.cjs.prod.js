"use strict";

function _interopDefault(ex) {
  return ex && "object" == typeof ex && "default" in ex ? ex.default : ex;
}

Object.defineProperty(exports, "__esModule", {
  value: !0
});

var _slicedToArray = _interopDefault(require("@babel/runtime/helpers/slicedToArray")), ResizeObserver = _interopDefault(require("resize-observer-polyfill")), react = require("react");

function useMeasure(ref) {
  let _useState = react.useState(() => ({
    height: 0,
    width: 0
  })), _useState2 = _slicedToArray(_useState, 2), snapshot = _useState2[0], setSnapshot = _useState2[1];
  return react.useLayoutEffect(() => {
    let element = ref.current;
    if (null !== element) {
      let resizeObserver = new ResizeObserver(_ref => {
        let entry = _slicedToArray(_ref, 1)[0];
        const height = entry.target.offsetHeight, width = entry.target.offsetWidth;
        width === snapshot.width && height === snapshot.height || setSnapshot({
          width: width,
          height: height
        });
      });
      return resizeObserver.observe(element), () => {
        resizeObserver.unobserve(element);
      };
    }
  }), snapshot;
}

exports.useMeasure = useMeasure;
